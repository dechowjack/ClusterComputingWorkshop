<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>UNC CCW - Cluster Computing Basics &#8212; Cluster Computing Workshop 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="UNC CCW - Slurm" href="P2_Slurm.html" />
    <link rel="prev" title="About the Cluster Computing Workshop" href="about.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="unc-ccw-cluster-computing-basics">
<h1>UNC CCW - Cluster Computing Basics<a class="headerlink" href="#unc-ccw-cluster-computing-basics" title="Link to this heading">¶</a></h1>
<section id="basics-of-cluster-computing">
<h2>1. Basics of cluster computing<a class="headerlink" href="#basics-of-cluster-computing" title="Link to this heading">¶</a></h2>
<section id="what-is-a-cluster">
<h3>1.1 What is a cluster?<a class="headerlink" href="#what-is-a-cluster" title="Link to this heading">¶</a></h3>
<p>Cluster typically refers to a remote machine - i.e. <em>not</em> your local computer - that a user connects to using command line utilities. These machines have more logical CPU cores, RAM, VRAM, and storage available than the computers most people use. Multiple users can simultaneously access a cluster at once, and request a portion of the available resources to run programs. The benefit of running your work on a cluster is:</p>
<ol class="arabic simple">
<li><p>Clusters can run complex programs faster than a local machine</p></li>
<li><p>Running on a cluster frees up resources on your local machine to allow you to run visualization scripts, write, etc without impacting the runtime of your programs.</p></li>
</ol>
</section>
<section id="unix-basics">
<h3>1.2 UNIX basics<a class="headerlink" href="#unix-basics" title="Link to this heading">¶</a></h3>
<p>Clusters generally run on an operating system derived from the UNIX family of operating systems. The most widely know UNIX-like OS is probably MacOS. There are many differences between Windows and UNIX-like operating systems, but the two most applicable to the average user are:</p>
<ol class="arabic simple">
<li><p>UNIX based systems have a native <em>command line interface</em> or CLI. On MacOS, this is the <em>terminal</em> application. There is not a native CLI on Windows, and instead applications like <em>PuTTY</em> add CLI to Windows machines.</p></li>
<li><p>When looking at file paths, UNIX systems use a forward slash / to indicate directory level, while Windows uses back slash \ to indicate file paths. This is only an issue if copy-pasting file paths.</p></li>
</ol>
<p>Separate from these, the interface with the cluster is entirely in the CLI. There is not a graphical user interface (GUI).</p>
</section>
<section id="basic-command-line-operations">
<h3>1.3 Basic command line operations<a class="headerlink" href="#basic-command-line-operations" title="Link to this heading">¶</a></h3>
<p>In your day to day life on an OS with a GUI, things like copy-paste or changing directories is a clicking-based operation. In reality, when you highlight then copy-paste text, your OS is running the CLI operations that correspond to what you’ve clicked. These operations are usually done in a language called <em>bash</em>. Below is a list common bash commands that help with everyday use on the clusters</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Command</strong></p></th>
<th class="head"><p><strong>Purpose</strong></p></th>
<th class="head"><p><strong>Example Usage</strong></p></th>
<th class="head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cd</span></code></p></td>
<td><p>Change directory</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">./documents</span></code></p></td>
<td><p>Moves you into another folder (like double-clicking a folder in Finder or File Explorer).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pwd</span></code></p></td>
<td><p>Print working directory</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pwd</span></code></p></td>
<td><p>Shows the full path of where you are in the file system.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ls</span></code></p></td>
<td><p>List directory contents</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-a</span></code></p></td>
<td><p>Lists all files and folders in the current directory (<code class="docutils literal notranslate"><span class="pre">-a</span></code> shows hidden files too).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mv</span></code></p></td>
<td><p>Move or rename files</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">file.txt</span> <span class="pre">/otherFolder/</span></code> <br> <code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">file.txt</span> <span class="pre">newFile.txt</span></code></p></td>
<td><p>Moves a file to another folder, or renames it.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cp</span></code></p></td>
<td><p>Copy files</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">file.txt</span> <span class="pre">copy_of_file.txt</span></code></p></td>
<td><p>Makes a duplicate of a file.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mkdir</span></code></p></td>
<td><p>Make a new directory</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">newFolder</span></code></p></td>
<td><p>Creates a new folder.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cat</span></code></p></td>
<td><p>View file contents</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">file.txt</span></code></p></td>
<td><p>Prints the contents of a file directly to the screen.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">touch</span></code></p></td>
<td><p>Create or update a file</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">touch</span> <span class="pre">newfile.txt</span></code></p></td>
<td><p>Creates a blank file (or updates the timestamp if it already exists).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rm</span></code></p></td>
<td><p>Remove files or folders</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">file.txt</span></code> <br> <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-r</span> <span class="pre">folder/</span></code></p></td>
<td><p>Deletes files (<code class="docutils literal notranslate"><span class="pre">rm</span></code>) or entire folders (<code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-r</span></code>). Use carefully—this cannot be undone!</p></td>
</tr>
</tbody>
</table>
</section>
<section id="example-command-line-interactions">
<h3>1.4 Example command line interactions<a class="headerlink" href="#example-command-line-interactions" title="Link to this heading">¶</a></h3>
<p>Below is an example of using these operations on the command line</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jldechow@Jacks-MBP<span class="w"> </span>Data<span class="w"> </span>%<span class="w"> </span><span class="nb">pwd</span>
/Users/jldechow/Data
jldechow@Jacks-MBP<span class="w"> </span>Data<span class="w"> </span>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>SWOT<span class="w"> </span>
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>ls<span class="w"> </span>-ltrh
total<span class="w"> </span><span class="m">0</span>
drwxr-xr-x<span class="w">  </span><span class="m">15</span><span class="w"> </span>jldechow<span class="w">  </span>staff<span class="w">   </span>480B<span class="w"> </span>Jun<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">13</span>:48<span class="w"> </span>TuolumneMeadows
drwxr-xr-x<span class="w">  </span><span class="m">19</span><span class="w"> </span>jldechow<span class="w">  </span>staff<span class="w">   </span>608B<span class="w"> </span>Jun<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">11</span>:20<span class="w"> </span>ZipFiles
drwxr-xr-x<span class="w">  </span><span class="m">12</span><span class="w"> </span>jldechow<span class="w">  </span>staff<span class="w">   </span>384B<span class="w"> </span>Jun<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">11</span>:22<span class="w"> </span>LakeObs
drwxr-xr-x<span class="w">   </span><span class="m">7</span><span class="w"> </span>jldechow<span class="w">  </span>staff<span class="w">   </span>224B<span class="w"> </span>Nov<span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">13</span>:47<span class="w"> </span>Archive
</pre></div>
</div>
<p>In this example, we have used <code class="docutils literal notranslate"><span class="pre">pwd</span></code> to determine we are in the directory <code class="docutils literal notranslate"><span class="pre">/Users/jldechow/Data</span></code>. Next, we use <code class="docutils literal notranslate"><span class="pre">cd</span></code> to move to the directory <code class="docutils literal notranslate"><span class="pre">/Users/jldechow/Data/SWOT</span></code>. Finally, we use <code class="docutils literal notranslate"><span class="pre">ls</span></code> to see everything in the <code class="docutils literal notranslate"><span class="pre">SWOT</span></code> directory. The characters <code class="docutils literal notranslate"><span class="pre">-ltrh</span></code> after <code class="docutils literal notranslate"><span class="pre">ls</span></code> are called <em>flags</em>. Flags are used to turn on/off specific options for commands. Flags usually need to be in any specific order. In this example, the flags did the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-l</span></code> output format LONG</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-t</span></code> list files by newest time first</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-r</span></code> output reverse order</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-h</span></code> human readable format</p></li>
</ul>
<p>Next, let’s use some other commands to make a test file and move it around.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>touch<span class="w"> </span>test.txt<span class="w">              </span>
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello world&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>test.txt
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>cat<span class="w"> </span>test.txt<span class="w">              </span>
Hello<span class="w"> </span>world
</pre></div>
</div>
<p>Let’s break this down line-by-line. First, we used <code class="docutils literal notranslate"><span class="pre">touch</span> <span class="pre">test.txt</span></code> to make an empty plain text file named <code class="docutils literal notranslate"><span class="pre">test.txt</span></code>. Next we used a more complicated set of commands involving <code class="docutils literal notranslate"><span class="pre">echo</span></code> and the redirection operator <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>. On its own, <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">“Hello</span> <span class="pre">world”</span></code> would print “Hello world” to the command line. When used in combination with the redirection operator the command <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">&quot;Hello</span> <span class="pre">world&quot;</span> <span class="pre">&gt;</span> <span class="pre">test.txt</span></code> prints “hello world” <em>into</em> the file named <code class="docutils literal notranslate"><span class="pre">test.txt</span></code>. Finally, <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">test.txt</span></code> prints the contents of the file <code class="docutils literal notranslate"><span class="pre">test.txt</span></code> to the command line.</p>
<p>Now, let’s make a copy of this file and move it to a new directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>cp<span class="w"> </span>test.txt<span class="w"> </span>test2.txt
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>ls
Archive<span class="w">		</span>test.txt<span class="w">	</span>TuolumneMeadows
LakeObs<span class="w">		</span>test2.txt<span class="w">	</span>ZipFiles
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>cat<span class="w"> </span>test2.txt
Hello<span class="w"> </span>world
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>mkdir<span class="w"> </span>test_dir
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>mv<span class="w"> </span>*.txt<span class="w"> </span>test_dir
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>ls
Archive<span class="w">		</span>LakeObs<span class="w">		</span>test_dir<span class="w">	</span>TuolumneMeadows<span class="w">	</span>ZipFiles
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>ls<span class="w"> </span>test_dir
test.txt<span class="w">	</span>test2.txt
</pre></div>
</div>
<p>Here, we used <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">test.txt</span> <span class="pre">test2.txt</span></code> to make a copy of <code class="docutils literal notranslate"><span class="pre">text.txt</span></code> called <code class="docutils literal notranslate"><span class="pre">test2.txt</span></code>. We use <code class="docutils literal notranslate"><span class="pre">ls</span></code> again to check they were both created. Then, we use <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">test2.txt</span></code> to double check the contents of <code class="docutils literal notranslate"><span class="pre">test2.txt</span></code> are the same as <code class="docutils literal notranslate"><span class="pre">test.txt</span></code>. Next, we use <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">test_dir</span></code> to create a directory named <code class="docutils literal notranslate"><span class="pre">test_dir</span></code>. After that, we use <code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">*.txt</span> <span class="pre">test_dir</span></code> to move all files with <code class="docutils literal notranslate"><span class="pre">.txt</span></code> extensions into the folder <code class="docutils literal notranslate"><span class="pre">test_dir/</span></code>. We use <code class="docutils literal notranslate"><span class="pre">ls</span></code> again to check that the text files are no longer in <code class="docutils literal notranslate"><span class="pre">/Users/jldechow/Data/SWOT</span></code> and then use <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">test_dir</span></code> to print the contents of directory <code class="docutils literal notranslate"><span class="pre">test_dir</span></code>.</p>
<p>Finally, lets remove the test files</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>rm<span class="w"> </span>test_dir/test.txt
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>ls<span class="w"> </span>test_dir<span class="w"> </span>
test2.txt
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>rm<span class="w"> </span>test_dir
rm:<span class="w"> </span>test_dir:<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>directory
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>test_dir
jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>ls
Archive<span class="w">		</span>LakeObs<span class="w">		</span>TuolumneMeadows<span class="w">	</span>ZipFiles
</pre></div>
</div>
<p>Here, we used <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">test_dir/test.txt</span></code> to remove the first test file, and we use <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">test_dir</span></code> to confirm it’s been deleted. Next, we use <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">test_dir</span></code> to try to remove the directory. As you can see in the command line output, it doesn’t work because <code class="docutils literal notranslate"><span class="pre">test_dir</span></code> is a directory! The next line, we do it again with the flag for a recursive operation: <code class="docutils literal notranslate"><span class="pre">-r</span></code>. Generally, this flag is required for any operations involving folders. Using <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-r</span> <span class="pre">test_dir</span></code> we remove <code class="docutils literal notranslate"><span class="pre">test_dir/</span></code> and its contents, and then confirm it’s gone with <code class="docutils literal notranslate"><span class="pre">ls</span></code>.</p>
</section>
</section>
<section id="accessing-the-cluster">
<h2>2. Accessing the cluster<a class="headerlink" href="#accessing-the-cluster" title="Link to this heading">¶</a></h2>
<section id="terminal">
<h3>2.1 Terminal<a class="headerlink" href="#terminal" title="Link to this heading">¶</a></h3>
<p>For MacOS users, the only requirement is to open the native <code class="docutils literal notranslate"><span class="pre">Terminal</span></code> app.</p>
<p>For Windows users, a terminal application needs to be downloaded. When I was working on windows machines, I used the <code class="docutils literal notranslate"><span class="pre">PuTTY</span></code> terminal emulator (https://putty.org/index.html).</p>
</section>
<section id="ssh">
<h3>2.2 SSH<a class="headerlink" href="#ssh" title="Link to this heading">¶</a></h3>
<p>To actually connect to the cluster, we use the command <code class="docutils literal notranslate"><span class="pre">ssh</span></code> to connect using the <code class="docutils literal notranslate"><span class="pre">secure</span> <span class="pre">shell</span> <span class="pre">protocol</span></code>. If you’ve ever heard someone say “I need to remote into the cluster”, this is what they mean. To actually do this, open your <code class="docutils literal notranslate"><span class="pre">Terminal</span></code> application and type the following command:</p>
<p><code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">onyen&#64;river.emes.unc.edu</span></code></p>
<p>In my case, when I ssh to the GHL cluster I see the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jldechow@Jacks-MBP<span class="w"> </span>SWOT<span class="w"> </span>%<span class="w"> </span>ssh<span class="w"> </span>jldechow@river.emes.unc.edu
***************************************************************************

<span class="w">                </span>The<span class="w"> </span>University<span class="w"> </span>of<span class="w"> </span>North<span class="w"> </span>Carolina<span class="w"> </span>at<span class="w"> </span>Chapel<span class="w"> </span>Hill
<span class="w">               </span>-----------------------<span class="w"> </span>o<span class="w"> </span>-----------------------
<span class="w">               </span>Unauthorized<span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>this<span class="w"> </span>system<span class="w"> </span>is<span class="w"> </span>prohibited.

***************************************************************************
jldechow@river.emes.unc.edu<span class="err">&#39;</span>s<span class="w"> </span>password:<span class="w"> </span>
</pre></div>
</div>
<p>Here, enter your password and you are officially “remotely connected to the cluster”!</p>
</section>
</section>
<section id="using-the-cluster">
<h2>3. Using the cluster<a class="headerlink" href="#using-the-cluster" title="Link to this heading">¶</a></h2>
<section id="basic-structure-of-the-ghl-cluster">
<h3>3.1 Basic structure of the GHL cluster<a class="headerlink" href="#basic-structure-of-the-ghl-cluster" title="Link to this heading">¶</a></h3>
<p>While the examples in this section are specific to the UNC EMES River cluster, most of these ideas are generically applicable to other cluster systems. First, lets see <em>where</em> on the cluster we end up after a successful <code class="docutils literal notranslate"><span class="pre">ssh</span></code> execution.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Last<span class="w"> </span>login:<span class="w"> </span>Fri<span class="w"> </span>Nov<span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">13</span>:14:45<span class="w"> </span><span class="m">2025</span><span class="w"> </span>from<span class="w"> </span><span class="m">152</span>.23.121.91
<span class="c1">##########################################################################</span>
<span class="c1">#                                                                        #</span>
<span class="c1">#  University of North Carolina at Chapel Hill                           #</span>
<span class="c1">#                College of Arts and Sciences Teaching and research      #</span>
<span class="c1">#                     Linux Environment (C.A.S.T.L.E.)                   #</span>
<span class="c1">#                                                                        #</span>
<span class="c1"># Report problems with this system and requests for assistance at        #</span>
<span class="c1">#  &lt;http://help.unc.edu/&gt;. Please mention OASIS-Linux-Support in         #</span>
<span class="c1">#  the incident report.                                                  #</span>
<span class="c1">#                                                                        #</span>
<span class="c1">##########################################################################</span>
Host:<span class="w">     </span>river.emes.unc.edu<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">152</span>.19.218.21<span class="w"> </span><span class="p">|</span><span class="w"> </span>3e:de:7d:a9:48:79
OS:<span class="w">       </span>Ubuntu<span class="w"> </span><span class="m">24</span>.04<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">6</span>.8.0-85-generic
Platform:<span class="w"> </span>Dell<span class="w"> </span>Inc.<span class="w"> </span>PowerEdge<span class="w"> </span>R7725
Memory:<span class="w">   </span><span class="m">515</span>.2GB
CPU:<span class="w">      </span><span class="m">96</span><span class="w"> </span>vcpu<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>socket<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">24</span><span class="w"> </span>cores-per-socket<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>threads-per-core

Last_Managed:<span class="w"> </span><span class="m">2025</span>-11-07<span class="w"> </span><span class="m">12</span>:05:04<span class="w"> </span>EST


***************************************************************************
jldechow@river:~$<span class="w"> </span><span class="nb">pwd</span>
/afs/cas.unc.edu/users/j/l/jldechow
jldechow@river:~$<span class="w"> </span>
</pre></div>
</div>
<p>When I <code class="docutils literal notranslate"><span class="pre">ssh</span></code> into the <code class="docutils literal notranslate"><span class="pre">River</span></code> cluster, it prints out the resources available on the cluster. After using <code class="docutils literal notranslate"><span class="pre">pwd</span></code> we can see the I am in the directory <code class="docutils literal notranslate"><span class="pre">/afs/cas.unc.edu/users/j/l/jldechow</span></code> which is my <em>home</em> directory. On UNIX systems, your home directory is most often given the <code class="docutils literal notranslate"><span class="pre">alias</span></code> or <code class="docutils literal notranslate"><span class="pre">symbolic</span> <span class="pre">link</span></code> of <code class="docutils literal notranslate"><span class="pre">~</span></code>. Let’s print that out below on the CLI</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jldechow@river:~$<span class="w"> </span>readlink<span class="w"> </span>-f<span class="w"> </span>~
/afs/cas.unc.edu/users/j/l/jldechow
</pre></div>
</div>
<p>Here we use command <code class="docutils literal notranslate"><span class="pre">readlink</span></code> to print the value of a <code class="docutils literal notranslate"><span class="pre">symlink</span></code> with the flag <code class="docutils literal notranslate"><span class="pre">-f</span></code> to ensure that if there are nested symlinks, they all print their full path. The important thing to take away here is that no matter where you are on the cluster, you can always return to the home directory with <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~</span></code>.</p>
</section>
<section id="understanding-the-available-resources">
<h3>3.2 Understanding the available resources<a class="headerlink" href="#understanding-the-available-resources" title="Link to this heading">¶</a></h3>
<p>Let’s revisit the splash text printed by the River Cluster when we first <code class="docutils literal notranslate"><span class="pre">ssh</span></code> into the remote machine.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Last<span class="w"> </span>login:<span class="w"> </span>Fri<span class="w"> </span>Nov<span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">13</span>:14:45<span class="w"> </span><span class="m">2025</span><span class="w"> </span>from<span class="w"> </span><span class="m">152</span>.23.121.91
<span class="c1">##########################################################################</span>
<span class="c1">#                                                                        #</span>
<span class="c1">#  University of North Carolina at Chapel Hill                           #</span>
<span class="c1">#                College of Arts and Sciences Teaching and research      #</span>
<span class="c1">#                     Linux Environment (C.A.S.T.L.E.)                   #</span>
<span class="c1">#                                                                        #</span>
<span class="c1"># Report problems with this system and requests for assistance at        #</span>
<span class="c1">#  &lt;http://help.unc.edu/&gt;. Please mention OASIS-Linux-Support in         #</span>
<span class="c1">#  the incident report.                                                  #</span>
<span class="c1">#                                                                        #</span>
<span class="c1">##########################################################################</span>
Host:<span class="w">     </span>river.emes.unc.edu<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">152</span>.19.218.21<span class="w"> </span><span class="p">|</span><span class="w"> </span>3e:de:7d:a9:48:79
OS:<span class="w">       </span>Ubuntu<span class="w"> </span><span class="m">24</span>.04<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">6</span>.8.0-85-generic
Platform:<span class="w"> </span>Dell<span class="w"> </span>Inc.<span class="w"> </span>PowerEdge<span class="w"> </span>R7725
Memory:<span class="w">   </span><span class="m">515</span>.2GB
CPU:<span class="w">      </span><span class="m">96</span><span class="w"> </span>vcpu<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>socket<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">24</span><span class="w"> </span>cores-per-socket<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>threads-per-core

Last_Managed:<span class="w"> </span><span class="m">2025</span>-11-07<span class="w"> </span><span class="m">12</span>:05:04<span class="w"> </span>EST


***************************************************************************
jldechow@river:~$<span class="w"> </span>
</pre></div>
</div>
<section id="host">
<h4>Host<a class="headerlink" href="#host" title="Link to this heading">¶</a></h4>
<p>Let’s go through and break this down line by line, starting with the <code class="docutils literal notranslate"><span class="pre">Host</span></code>. For example, CLI on River shows <code class="docutils literal notranslate"><span class="pre">jldechow&#64;river:</span></code>. This shows that the user <code class="docutils literal notranslate"><span class="pre">jldechow</span></code> is logged onto the host machine <code class="docutils literal notranslate"><span class="pre">river</span></code>. For small clusters or local machines, this is not super important. However, on large HPC clusters, sometimes the <code class="docutils literal notranslate"><span class="pre">host</span></code> where your <code class="docutils literal notranslate"><span class="pre">user</span></code> and directories live at doesn’t match up with the <code class="docutils literal notranslate"><span class="pre">host</span></code> that compute job are run on. On a MacOS machine, you can see this in the terminal as well. For example, on my laptop the terminal shows <code class="docutils literal notranslate"><span class="pre">jldechow&#64;Jacks-MBP</span></code>. As far as the operating system is concerned, the name of my computer is <code class="docutils literal notranslate"><span class="pre">Jacks-MBP</span></code>. The hostname for a Windows machine can be seen in the “About this PC” section.</p>
</section>
<section id="os">
<h4>OS<a class="headerlink" href="#os" title="Link to this heading">¶</a></h4>
<p>Next, the splash reports that the operating system or OS the server is running on is <code class="docutils literal notranslate"><span class="pre">Ubuntu</span> <span class="pre">24.04</span> <span class="pre">|</span> <span class="pre">6.8.0-85-generic</span></code>. Ubuntu is a free and widely used distribution of <code class="docutils literal notranslate"><span class="pre">Linux</span></code>. Linux is another UNIX-like OS, and is used on virtually every single supercomputer. Ubuntu is a specific distribution, which can be though of as the “brand” of Linux you are using. Other popular distributions for HPC applications are <code class="docutils literal notranslate"><span class="pre">Redhat</span></code> and <code class="docutils literal notranslate"><span class="pre">Debian</span></code>.</p>
</section>
<section id="platform">
<h4>Platform<a class="headerlink" href="#platform" title="Link to this heading">¶</a></h4>
<p>This computer was manufactured by Dell, and the model name and number is <code class="docutils literal notranslate"><span class="pre">PowerEdge</span> <span class="pre">R7725</span></code>.</p>
</section>
<section id="memory">
<h4>Memory<a class="headerlink" href="#memory" title="Link to this heading">¶</a></h4>
<p>Memory or RAM (random access memory) is the amount of high speed storage used for cache-ing or holding data/programs/addresses for easy access. Computers typical have RAM in quantities that are powers of 2. Since the system reports <code class="docutils literal notranslate"><span class="pre">515.2GB</span></code> of RAM, the system likely has <code class="docutils literal notranslate"><span class="pre">512GB</span></code> of RAM available for computing, and the other <code class="docutils literal notranslate"><span class="pre">3.2GB</span></code> of RAM is reserved for system level processes (i.e. running the remote machine).</p>
</section>
<section id="cpu">
<h4>CPU<a class="headerlink" href="#cpu" title="Link to this heading">¶</a></h4>
<p>Finally, the CPU. The Central Processing Unit is the “brain” or “engine” of a computer. The splash gives us the following information:</p>
<p><code class="docutils literal notranslate"><span class="pre">CPU:</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">96</span> <span class="pre">vcpu</span> <span class="pre">|</span> <span class="pre">2</span> <span class="pre">socket</span> <span class="pre">|</span> <span class="pre">24</span> <span class="pre">cores-per-socket</span> <span class="pre">|</span> <span class="pre">2</span> <span class="pre">threads-per-core</span></code></p>
<p>Lets break this down in a slightly different order than it’s given to us:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">socket</span></code> - This machine has two physical CPUs. Most consumer computers have 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">24</span> <span class="pre">cores-per-socket</span></code> A CPU is called a central processing <code class="docutils literal notranslate"><span class="pre">unit</span></code> for a reason. The unit itself has multiple <code class="docutils literal notranslate"><span class="pre">processors</span></code> that are each called a <code class="docutils literal notranslate"><span class="pre">core</span></code>. Since the splash tells us that the server has <code class="docutils literal notranslate"><span class="pre">24</span> <span class="pre">cores-per-socket</span></code>, we know that we have <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">CPU</span></code> in each of our <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">sockets</span></code> and each of our <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">CPU</span></code> has <code class="docutils literal notranslate"><span class="pre">24</span> <span class="pre">processor</span> <span class="pre">cores</span></code>. This gives us a total of <code class="docutils literal notranslate"><span class="pre">48</span> <span class="pre">physical</span> <span class="pre">cores</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">threads-per-core</span></code> - Historically, a single CPU core could process a single set of instructions at a time. Through a method called <code class="docutils literal notranslate"><span class="pre">multithreading</span></code>, a single physical core can be split into 2,4, or 8 <code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">cores</span></code>. On some retail CPUs this is marketed as <code class="docutils literal notranslate"><span class="pre">hyperthreading</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">96</span> <span class="pre">vcpu</span></code> - Given that we have <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">CPU</span></code> &#64; <code class="docutils literal notranslate"><span class="pre">24</span> <span class="pre">cores-per-socket</span></code> &#64; <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">threads-per-core</span></code>, this gives us <code class="docutils literal notranslate"><span class="pre">96</span> <span class="pre">virtual</span> <span class="pre">cpus</span></code></p></li>
</ul>
<p>Given all of this, in theory a single job on the River cluster could request <code class="docutils literal notranslate"><span class="pre">512GB</span></code> of RAM and <code class="docutils literal notranslate"><span class="pre">96</span> <span class="pre">CPUs</span></code>. This would be very rude though!</p>
</section>
</section>
<section id="moving-files-between-your-local-machine-and-the-cluster">
<h3>3.3 Moving files between your local machine and the cluster<a class="headerlink" href="#moving-files-between-your-local-machine-and-the-cluster" title="Link to this heading">¶</a></h3>
<p>Having access to your files on the cluster, and pulling down results to your local machine are important steps to actually getting use out of a cluster. The standard way of moving files is with the <code class="docutils literal notranslate"><span class="pre">scp</span></code> command. In the example below, I’ll demonstrate moving files from the <code class="docutils literal notranslate"><span class="pre">Data/SWOT/</span></code> folder on my local machine to the <code class="docutils literal notranslate"><span class="pre">$HOME/public/</span></code> folder on my cluster account.</p>
<p><code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">-r</span> <span class="pre">/Users/jldechow/Data/SWOT/test.txt</span> <span class="pre">jldechow&#64;river.emes.unc.edu:/afs/cas.unc.edu/users/j/l/jldechow/public</span></code></p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Cluster Computing Workshop</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About the Cluster Computing Workshop</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Workshop Guides</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">UNC CCW - Cluster Computing Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basics-of-cluster-computing">1. Basics of cluster computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#accessing-the-cluster">2. Accessing the cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-cluster">3. Using the cluster</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="P2_Slurm.html">UNC CCW - Slurm</a></li>
<li class="toctree-l1"><a class="reference internal" href="P3_ComplexJobs.html">UNC CCW - Complex Jobs in Slurm</a></li>
<li class="toctree-l1"><a class="reference internal" href="GitSetup.html">UNC Cluster Computing Workshop - Git Setup Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Sheets</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="refs/REF_Commands.html">Linux + Slurm Commands Reference Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="refs/REF_Flags.html">Linux + Slurm Flags Reference Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="refs/REF_SBATCH_Directives.html">Slurm SBATCH Directive Reference Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="refs/REF_SlurmJobStatus.html">Slurm Job Status Reference Sheet</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="about.html" title="previous chapter">About the Cluster Computing Workshop</a></li>
      <li>Next: <a href="P2_Slurm.html" title="next chapter">UNC CCW - Slurm</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Jack Dechow.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/P1_Basics.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>